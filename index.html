<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>WebGL painting</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <script id="vertex-shader" type="x-shader/x-vertex">
      precision mediump float;
      attribute vec2 coord;
      uniform vec2 brushPosition;
      uniform float brushSize;
      varying vec2 vCoord;
      void main() {
        vCoord = coord;
        gl_Position = vec4(brushPosition + brushSize * coord, 0.0, 1.0);
      }
    </script>

    <script id="fragment-shader" type="x-shader/x-fragment">
      precision mediump float;
      uniform vec4 brushColor;
      uniform float brushSharpness;

      varying vec2 vCoord;

      void main() {
        float alpha = 1.0 - smoothstep(brushSharpness, 1.0, length(vCoord));
        gl_FragColor = alpha * brushColor;
      }
    </script>

    <div id="page">
      <div id="wrapper">
        <canvas id="draw" style="width: 400px; height: 400px"></canvas>
      </div>

      <div id="stroke-data">
        <textarea id="stroke-data-output"></textarea>
      </div>

      <div id="controls">
        <div class="control-row">
          <label for="size-slider">Size</label>
          <input type="range" id="size-slider" min="1" max="200" value="5" />
        </div>

        <div class="control-row">
          <label for="spacing-slider">Spacing</label>
          <input
            type="range"
            id="spacing-slider"
            min="0.1"
            max="1"
            step="0.05"
            value="0.5"
          />
        </div>

        <div class="control-row">
          <label for="opacity-slider">Flow</label>
          <input type="range" id="opacity-slider" min="0" max="1" step="0.01" />
        </div>

        <div class="control-row">
          <label for="movement-min-slider">Mvtmin</label>
          <input
            type="range"
            id="movement-min-slider"
            min="0"
            max="20"
            value="2"
          />
        </div>

        <div class="control-row">
          <label for="blur-slider">Sharp</label>
          <input type="range" id="blur-slider" min="0" max="100" />
        </div>

        <div class="control-row">
          <label for="color-picker">Color</label>
          <input type="color" id="color-picker" value="black" />
        </div>

        <div class="control-row">
          <label></label>
          <button id="clear">Clear</button>
        </div>

        <div class="control-row">
          <label for="debug-checkbox">Debug</label>
          <input id="debug-checkbox" type="checkbox" />
        </div>
      </div>
    </div>

    <script type="module" src="build/index.js"></script>
  </body>
</html>
